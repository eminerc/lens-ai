<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Enhanced Camera</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container">
        <!-- Loading Screen -->
        <div id="loadingText">Loading AI Models...</div>
        
        <!-- Camera View -->
        <div class="camera-container" id="cameraView">
            <video id="videoElement" autoplay muted playsinline></video>
            <canvas id="canvasOutput"></canvas>
            
            <div class="top-bar">
                <div>AI Enhanced Camera</div>
                <div class="detection-labels" id="detectionLabels"></div>
                <div class="detection-stats" id="detectionStats"></div>
            </div>
            
            <div class="api-config" id="apiConfig">
                <div>AI API Configuration:</div>
                <select id="apiProvider">
                    <option value="huggingface">Hugging Face</option>
                    <option value="openai">OpenAI DALL-E</option>
                    <option value="stability">Stability AI</option>
                </select>
                <input type="password" id="apiKey" placeholder="Enter API key">
                <button onclick="saveApiConfig()">Save</button>
                <div class="api-status" id="apiStatus">No API configured</div>
            </div>
            
            <div class="bottom-controls">
                <button class="capture-btn" id="captureBtn" onclick="capturePhoto()">üì∑</button>
            </div>
            
            <div class="status-bar" id="statusBar">
                Initializing...
            </div>
        </div>
        
        <!-- Review Mode -->
        <div class="review-container" id="reviewContainer">
            <button class="back-btn" onclick="backToCamera()">‚Üê Back</button>
            
            <div class="image-comparison">
                <div class="image-slider" id="imageSlider">
                    <div class="image-panel">
                        <img id="originalImage" alt="Original">
                        <div class="image-label">Original</div>
                    </div>
                    <div class="image-panel">
                        <img id="enhancedImage" alt="AI Enhanced">
                        <div class="image-label">AI Enhanced</div>
                    </div>
                </div>
            </div>
            
            <div class="enhancement-info" id="enhancementInfo">
                <div class="prompt-used">Prompt: <span id="promptText"></span></div>
                <div class="processing-time">Processing: <span id="processingTime"></span></div>
            </div>
            
            <div class="swipe-instructions">
                Swipe left to save original ‚Üê | ‚Üí Swipe right to save enhanced
                <span class="swipe-arrow">‚Üê‚Üí</span>
            </div>
        </div>
        
        <!-- Processing Overlay -->
        <div class="processing-overlay" id="processingOverlay">
            <div class="spinner"></div>
            <div id="processingText">Processing...</div>
            <div class="processing-details" id="processingDetails"></div>
        </div>
    </div>

    <!-- Scripts -->
    <script async src="https://docs.opencv.org/4.8.0/opencv.js" onload="onOpenCvReady();" type="text/javascript"></script>
    <script src="objectDetection.js"></script>
    <script src="imageEnhancement.js"></script>
    <script src="app.js"></script>
</body>
</html>
